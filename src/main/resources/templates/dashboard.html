<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bootapps Dashboard</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link th:href="@{/css/main.css}" rel="stylesheet">
</head>
<body>
    <h1>Bootapps Dashboard</h1>
    <p th:if="${autoreload}" th:text="'autoreload: every ' + ${autoreloadInterval / 1000} + 's'"></p>
    <p th:unless="${autoreload}" th:text="'autoreload: off'"></p>
    <button id="bootapps-status-reload-button" type="button">Reload Status</button>

    <table id="bootapps" border="1">
        <tr>
            <th>App ID</th>
            <th>Endpoint URLs</th>
            <th>App Health</th>
            <th>App Info</th>
        </tr>
        <tr th:id="'bootapp-' + ${bootapp.id}" class="bootapp" th:each="bootapp : ${bootapps}">
            <td class="bootapp-id" th:text="${bootapp.id}">App ID</td>
            <td class="bootapp-endpoints">
                <a th:href="${bootapp.healthEndpointUrl}">Health</a> |
                <a th:href="${bootapp.infoEndpointUrl}">Info</a>
            </td>
            <td class="bootapp-health">N/A</td>
            <td class="bootapp-info">N/A</td>
        </tr>
    </table>
    <script th:inline="javascript">
        /*<![CDATA[*/

        var autoreload = /*[[${autoreload}]]*/ false;
        var autoreloadInterval = /*[[${autoreloadInterval}]]*/ 30;

        /*]]>*/
    </script>
    <script th:src="@{/js/main.js}"></script>
</body>
</html>